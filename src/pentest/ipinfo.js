const axios = require('axios');

// Replace YOUR_ACCESS_TOKEN with your actual API token from ipinfo.io
const IPINFO_TOKEN = '3595082c0d4a82';
const IPINFO_API_URL = 'https://ipinfo.io/';

async function getIpInfo(ip) {
    try {
        const response = await axios.get(`${IPINFO_API_URL}${ip}?token=${IPINFO_TOKEN}`);
        return response.data;
    } catch (error) {
        console.error(`Error fetching IP info for ${ip}:`, error);
        throw new Error('Unable to fetch IP information. Please try again later.');
    }
}

module.exports = getIpInfo;
