const dns = require('dns');
const util = require('util');

const resolve4 = util.promisify(dns.resolve4);
const resolve6 = util.promisify(dns.resolve6);

async function nslookup(domain) {
    const results = {
        A: [],
        AAAA: []
    };

    try {
        results.A = await resolve4(domain);
    } catch (error) {
        console.error(`Error resolving A records for ${domain}:`, error);
    }

    try {
        results.AAAA = await resolve6(domain);
    } catch (error) {
        console.error(`Error resolving AAAA records for ${domain}:`, error);
    }

    return results;
}

module.exports = nslookup;
